<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale = 1.0"><title>Using the ControlNet API | Stable Diffusion in the Cloud</title><link rel="icon" type="image/svg" href="/favicon.svg"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><style type="text/css">@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU7NSQ.woff) format('woff');}@font-face {font-family: 'Righteous';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/righteous/v17/1cXxaUPXBpj2rGoU7C9mjA.woff) format('woff');} /* cyrillic-ext */@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU79QB_VIKg.woff2) format('woff2');unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}/* vietnamese */@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU79Qh_VIKg.woff2) format('woff2');unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;}/* latin-ext */@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU79Qx_VIKg.woff2) format('woff2');unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}/* latin */@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU79TR_V.woff2) format('woff2');unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}/* latin-ext */@font-face {font-family: 'Righteous';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/righteous/v17/1cXxaUPXBpj2rGoU7C9WhnGFucE.woff2) format('woff2');unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}/* latin */@font-face {font-family: 'Righteous';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/righteous/v17/1cXxaUPXBpj2rGoU7C9WiHGF.woff2) format('woff2');unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}</style><meta property="og:description" name="description" content="A guide to using the Automatic1111 API to run stable diffusion from an app or a batch process"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@RandomBitsDev"><meta name="twitter:title" property="og:title" content="Using the ControlNet API | Stable Diffusion in the Cloud"><meta name="twitter:image" property="og:image" content="https://randombits.dev/_astro/4planets.wV0wUOEL.jpg"><meta property="og:url" content="https://randombits.dev/articles/stable-diffusion/controlnet-api"><link rel="canonical" href="https://randombits.dev/articles/stable-diffusion/controlnet-api"><script>
  const initialTheme = localStorage.getItem("theme") || 'base';
  if (initialTheme.startsWith('dark-')) {
    document.documentElement.classList.add(`theme-${initialTheme}`, `theme-dark`);
  } else {
    document.documentElement.classList.add(`theme-${initialTheme}`);
  }
</script> <meta property="og:type" content="https://ogp.me/ns/article#"> <meta property="article:modified_time" content="Tue Jan 09 2024 00:00:00 GMT+0000 (Coordinated Universal Time)"><link rel="stylesheet" href="/_astro/index.6NuYEYke.css" />
<link rel="stylesheet" href="/_astro/_slug_.h0gdylIF.css" />
<link rel="stylesheet" href="/_astro/_slug_.iTB5GJ_8.css" /><script type="module">document.getElementById("footer__envelope").addEventListener("click",t=>{const e=["matt","randombits","dev"];navigator.clipboard.writeText(`${e[0]}@${e[1]}.${e[2]}`),document.getElementById("footer__quick-msg").style.display="inline",setTimeout(()=>{document.getElementById("footer__quick-msg").style.display="none"},1500)});
</script></head> <body class=""> <div class="flex flex-col min-h-screen"> <header class="mt-[-20px] text-center relative z-10"> <nav aria-label="Main" style="font-family: Righteous;" class="rb-color-header text-xl sm:text-2xl pt-5 rounded-b-xl overflow-hidden shadow-2xl sm:inline-flex items-center"> <a class="px-6 block sm:inline" href="/" aria-label="Home Page"> <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 -20 150 144" version="1.1" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path id="text" fill="none" d="M25 55 A1 1, 0 0 1 125 55 A1 1, 0 0 1 25 55" data-astro-cid-tvrurpns></path> <path id="line" fill="none" stroke-width="5" d="M35 55 A1 1, 0 0 1 115 55 A1 1, 0 0 1 35 55" data-astro-cid-tvrurpns></path> <text font-size="30" letter-spacing="4.6px" data-astro-cid-tvrurpns> <textPath href="#text" data-astro-cid-tvrurpns>
011100100110001000000
</textPath> </text> <text x="50" y="72" font-size="50" data-astro-cid-tvrurpns>rb</text> </g> </svg>  </a> <a href="/articles" class="header-link">articles</a> /
<a href="/projects" class="header-link">projects</a> /
<a href="/about" class="header-link">about</a> </nav> </header> <main class="flex-1">   <div class="my-20 mx-5 md:mx-10"> <div class="rb-article"> <aside class="rb-article__sidebar"></aside> <section> <div class="card overflow-hidden"> <div class="card-contents" data-astro-cid-4wvhzws4> <div class="text-center" data-astro-cid-4wvhzws4> <h2 data-astro-cid-4wvhzws4>Stable Diffusion in the Cloud</h2> <h1 data-astro-cid-4wvhzws4>ControlNet API</h1> <p class="italic mx-10 md:mx-30" data-astro-cid-4wvhzws4>A guide to using the Automatic1111 API to run stable diffusion from an app or a batch process</p> <div class="text-2xl italic" data-astro-cid-4wvhzws4>January 9, 2024</div> </div> </div> <hr data-astro-cid-4wvhzws4>  <article class="article-body"> <h2 id="intro">Intro</h2>
<p>ControlNet allows users to control the generation process of stable diffusion images with spatial contexts. One of the  most common examples is using a “pose” - a stick figure drawing to control the position of a person in the output. But there are many other use cases.</p>
<blockquote>
<p>You must have the ControlNet extension installed in Automatic1111.</p>
</blockquote>
<h2 id="encode-input-in-base64">Encode Input in Base64</h2>
<p>Since we need to send an image to our server, we need to encode the image in base64. This example uses javascript:</p>
<pre class="language-js"><code is:raw="" class="language-js"><span class="token keyword">const</span> buf <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">&#39;my-file.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> myBase64EncodedImage <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">&#39;base64&#39;</span><span class="token punctuation">)</span></code></pre>
<h2 id="api-request">API Request</h2>
<blockquote>
<p>POST /sdapi/v1/txt2img</p>
</blockquote>
<p>To use ControlNet, we use the same <code>txt2img</code> endpoint, but we pass in extra params:</p>
<pre class="language-json"><code is:raw="" class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;prompt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Sunset in the mountains, lake in front&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// other txt2img params</span>
  <span class="token property">&quot;alwayson_scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;controlnet&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;args&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;input_image&quot;</span><span class="token operator">:</span> myBase64EncodedImage<span class="token punctuation">,</span>
          <span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token string">&quot;depth_fp16&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;depth&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>The <strong>input_image</strong> param should be encoded base64 string of your input image.</p>
<p>The <strong>module</strong> param is the name of the preprocessor to use.</p>
<p>The <strong>model</strong> param should be set to the name of a ControlNet model you have installed. For example, if your model name is called <code>depth_fp16.safetensors</code>, the value should be <code>depth_fp16</code>.</p>
<h2 id="response">Response</h2>
<p>See the <a href="txt2img#response">txt2img</a> guide for response examples</p>
<h2 id="full-list-of-params">Full List of Params</h2>
<table data-hk="0-0" class="table-narrow break-word"><thead><tr><th>Key</th><th>Description</th><th>Type</th><th>Default</th></tr></thead><tbody><tr data-hk="0-1"><td>model</td><td>Name of the installed model<!--!$--></td><td>string</td><td>none</td></tr><tr data-hk="0-2"><td>module</td><td>Name of the control type to use. One of<!--!$--></td><td>string</td><td>none</td></tr><tr data-hk="0-3"><td>input_image</td><td>Base64 encoded input image<!--!$--></td><td>string</td><td>none</td></tr><tr data-hk="0-4"><td>resize_mode</td><td>If the input image does not match the resolution of the output image, how should it handle it. Possible values:<br data-hk="0-5"><ul data-hk="0-6" class="tight"><li data-hk="0-7">Envelope (Outer Fit)</li><li data-hk="0-8">Scale to Fit (Inner Fit)</li><li data-hk="0-9">Just Resize</li></ul></td><td>string</td><td>Just Resize</td></tr><tr data-hk="0-10"><td>weight</td><td>The weight of the control image<!--!$--></td><td>number</td><td>1</td></tr><tr data-hk="0-11"><td>control_mode</td><td>How much impact the control image should have on the generated image Possible values:<br data-hk="0-12"><ul data-hk="0-13" class="tight"><li data-hk="0-14">Balanced</li><li data-hk="0-15">My prompt is more important</li><li data-hk="0-16">ControlNet is more important</li></ul></td><td>string</td><td>Balanced</td></tr><tr data-hk="0-17"><td>pixel_perfect</td><td>Enables the Pixel Perfect preprocessor<!--!$--></td><td>boolean</td><td></td></tr><tr data-hk="0-18"><td>mask</td><td>Base64 encoded mask image<!--!$--></td><td>string</td><td>none</td></tr><tr data-hk="0-19"><td>lowvram</td><td>Whether to compensate for low VRAM<!--!$--></td><td>boolean</td><td></td></tr><tr data-hk="0-20"><td>processor_res</td><td>The resolution to use for the preprocessor<!--!$--></td><td>number</td><td>64</td></tr><tr data-hk="0-21"><td>threshold_a</td><td>The first preprocessor parameter, if applicable<!--!$--></td><td>number</td><td>64</td></tr><tr data-hk="0-22"><td>threshold_b</td><td>The second preprocessor parameter, if applicable<!--!$--></td><td>number</td><td>64</td></tr><tr data-hk="0-23"><td>guidance_start</td><td>Ratio of generation where ControlNet starts to have an effect<!--!$--></td><td>number</td><td>0</td></tr><tr data-hk="0-24"><td>guidance_end</td><td>Ratio of generation where ControlNet stops having an effect<!--!$--></td><td>number</td><td>1</td></tr></tbody></table> </article> </div>  </section> <aside class="rb-article__sidebar"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var b=Object.defineProperty;var f=(c,o,i)=>o in c?b(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i;var l=(c,o,i)=>(f(c,typeof o!="symbol"?o+"":o,i),i);var p;{let c={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[e,r]=t;return e in c?c[e](r):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,r])=>[e,o(r)]));customElements.get("astro-island")||customElements.define("astro-island",(p=class extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var d;if(!this.hydrator||!this.isConnected)return;let e=(d=this.parentElement)==null?void 0:d.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let r=this.querySelectorAll("astro-slot"),a={},h=this.querySelectorAll("template[data-astro-template]");for(let n of h){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("data-astro-template")||"default"]=n.innerHTML,n.remove())}for(let n of r){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("name")||"default"]=n.innerHTML)}let u;try{u=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(n){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),n),n}await this.hydrator(this)(this.Component,u,a,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),r.disconnect(),this.childrenConnectedCallback()},r=new MutationObserver(()=>{var a;((a=this.lastChild)==null?void 0:a.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});r.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),r=this.getAttribute("client");if(Astro[r]===void 0){window.addEventListener(`astro:${r}`,()=>this.start(),{once:!0});return}Astro[r](async()=>{let a=this.getAttribute("renderer-url"),[h,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),a?import(a):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=h[d];else{this.Component=h;for(let n of d.split("."))this.Component=this.Component[n]}return this.hydrator=u,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},l(p,"observedAttributes",["props"]),p))}})();</script><astro-island uid="Z1lmzAR" data-solid-render-id="s0" component-url="/_astro/ArticleTOC.Kg44Q-oX.js" component-export="default" renderer-url="/_astro/client.yQAK7mEh.js" props="{&quot;slot&quot;:[0,&quot;sidebar&quot;],&quot;path&quot;:[0,&quot;controlnet-api&quot;],&quot;relatedPages&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;intro.md&quot;],&quot;slug&quot;:[0,&quot;intro&quot;],&quot;body&quot;:[0,&quot;\n## Why run stable diffusion in the cloud?\n\n**No need to buy expensive GPUs**. The cost of cloud servers are low enough where it is often cheaper than buying your own hardware. \n\nThis is assuming the server is used occasionally, and it is shut down when not in use. If stable diffusion is run continuously for personal use, then it would be more cost-efficient to buy hardware.\n\n**Upgrade whenever necessary**. Need more GPU power temporarily? It is simple to upgrade the server, and then downgrade it again when done.\n\n**Automation**. Automate the process of starting your server, loading models, generating your images, and shutting down.\n\n**Using the API**. This is probably the best reason to run stable diffusion in the cloud. Apps can be built to integrate with your stable diffusion server.\n\n## What is Automatic1111?\n\nAutomatic1111 is a full-featured **user interface** to run stable diffusion. It is easy to use, has a ton of features, and supports community extensions. It also has an API, so you can build batch processes, or applications that integrate with it.\n\n## The costs\n\nOn Google Cloud, the cheapest option is **$0.14/hour** to rent a **24GB GPU**, using Spot Provisioning (allows you to rent cheap servers during off-peak times when there isn&#39;t a high demand for servers).\n\nAnd it can cost over **$5/hour** to rent a super powerful **80GB GPU** using Standard Provisioning (guaranteed availability).\n\nI recommend starting with the cheapest option, because it is fast enough for personal use.\n\n## Which cloud platform is better?\n\nAfter running stable diffusion on both **Google Cloud** and **AWS** for a significant amount of time, I would easily recommend **Google Cloud** over AWS.\n\n**Google Cloud** is cheaper, it&#39;s easier to estimate costs, and overall easier to understand the server provisioning process.\n\n**AWS** is still a great option, especially if you are already familiar with it. But for new users, or users who are already familiar with Google, I would stick with **Google Cloud**.\n\nTo continue your adventure, pick a platform and keep reading:\n\n[Running Automatic1111 on Google Cloud](google-cloud)\n\n[Running Automatic1111 on AWS](aws)\n&quot;],&quot;collection&quot;:[0,&quot;stable-diffusion&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;An Introduction&quot;],&quot;updated&quot;:[3,&quot;2024-01-07T00:00:00.000Z&quot;],&quot;desc&quot;:[0,&quot;An introduction to running an automatic1111 stable diffusion server in the cloud&quot;],&quot;tags&quot;:[1,[[0,&quot;ai&quot;],[0,&quot;cloud&quot;]]],&quot;img&quot;:[0,{&quot;src&quot;:[0,&quot;/_astro/mtn-clouds.cp1DVsLX.jpg&quot;],&quot;width&quot;:[0,512],&quot;height&quot;:[0,512],&quot;format&quot;:[0,&quot;jpg&quot;]}],&quot;order&quot;:[0,1]}],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;google-cloud.md&quot;],&quot;slug&quot;:[0,&quot;google-cloud&quot;],&quot;body&quot;:[0,&quot;\n## Why run stable diffusion in Google Cloud?\n\n1. It&#39;s very cheap as long as you shut it down when you&#39;re not using it.\n2. You can load whatever models you want.\n3. You can automate the process of starting your server, loading models, generating your images, and shutting down.\n\n## How Cheap is it?\n\n$0.14 / hour for the cheapest configuration, which is the configuration I&#39;ve been using. It is fast enough, and can generate a 512x512 image in less than 3 seconds.\n\n&lt;img src=\&quot;/images/gcp/gcp-price.webp\&quot;/&gt;\n\nThe only price you need to look at is the hourly price, assuming you plan to shut down your server everytime. \n\nHere is what the most expensive option will run you, with a massive **A100 80GB GPU**:\n\n&lt;img src=\&quot;/images/gcp/gcp-price-2.webp\&quot;/&gt;\n\nStill very reasonable.\n\n&gt; This is using **Spot Provisioning**, which is about half the price of Standard Provisioning. The catch is that they can shut down your server at any time if they need resources for something else. More on this later.\n\n## Getting Started\n\nSign up for Google Cloud if you haven&#39;t already, and add your payment method.\n\nThe UI in Google Cloud can be very overwhelming, but the easiest way to find specific pages is to use the search bar at the top. In this guide, when I say \&quot;Go to this page\&quot;, just type the page name into the search and choose the matching product page.\n\n## Increase GPU Quota\n\nFirst, you need to increase your quota for GPUs, since the default is 0.\n\nGo to the **All Quotas** page, and use the filter to find the `GPUs (all regions)` quota:\n\n&lt;img src=\&quot;/images/gcp/gcp-quotas.webp\&quot;/&gt;\n\nEdit this quota so the limit is at least 1. The request will need to be approved, so don&#39;t try anything too high.\n\n## Setup Firewall\n\nGo to the **Firewall (VPC Network)** page. \n\nEdit the `default-allow-http` rule, and add the `7860` port to the TCP protocol:\n\n&lt;img src=\&quot;/images/gcp/gcp-firewall.webp\&quot;/&gt;\n\nAlternatively, you could create a new firewall rule instead of using the default rule.\n\n## Create VM Instance\n\nGo to the **VM Instances (Compute Engine)** page, and click **Create instance**. \n\nChange the Machine Configuration to **GPUs**, and select your video card and CPU configuration. `NVIDIA T4` is the cheapest GPU and `n1-highmem-2` is the cheapest CPU you should choose:\n\n&lt;img src=\&quot;/images/gcp/gcp-machine-config.webp\&quot;/&gt;\n\n\nUnder **Boot Disk**, hit the Change button. \n\nChoose `Ubuntu` for the operating system. \n\nChoose `22.04 LTS Minimal (x86/64)` for the version. \n\nChoose `Standard Persistent Disk` for the cheapest option (or balanced for faster performance). \n\nChoose the **size of the disk**. You can get by with 30GB if you only want to use the standard model. But if you want to download different models, they are around 2GB a piece, so I choose 100GB to have room to grow. \n\nAt the end, hit the **Select** button to close the dialog.\n\n&lt;img src=\&quot;/images/gcp/gcp-boot-disk.webp\&quot;/&gt;\n\n\nUnder **Firewall**, choose `Allow HTTP traffic`\n\n&lt;img src=\&quot;/images/gcp/gcp-allow-http.webp\&quot;/&gt;\n\n\nUnder **Advanced -&gt; Management -&gt; VM Provisioning Model**, choose either Spot or Standard provisioning. (Spot is cheaper).\n\n&lt;img src=\&quot;/images/gcp/gcp-spot.webp\&quot;/&gt;\n\nFinally, hit the **Create** button to create the VM\n\n## Setup your instance\n\nOnce your VM is started, click on the **SSH** button.\n\nInstall some basics:\n\n```\nsudo apt-get update\nsudo apt -y install wget git python3 \n```\n\nInstall GPU Driver:\n```\ncurl https://raw.githubusercontent.com/GoogleCloudPlatform/compute-gpu-installation/main/linux/install_gpu_driver.py --output install_gpu_driver.py\nsudo python3 install_gpu_driver.py\n```\n\nInstall CUDA (Nvidia GPU Software):\n\n```\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-keyring_1.0-1_all.deb\nsudo dpkg -i cuda-keyring_1.0-1_all.deb\nsudo apt-get update\nsudo apt-get -y install cuda\n```\n\nInstall a few more things:\n\n```\nsudo apt -y install python3-venv python3-pip\nsudo apt-get install -y python3-opencv\n```\n\nDownload the Automatic1111 repo:\n```\ngit clone  https://github.com/AUTOMATIC1111/stable-diffusion-webui.git\n```\n\n## Running Automatic1111\n\nFrom your home directory, simple run:\n```\nstable-diffusion-webui/webui.sh --listen --xformers --api \n```\n\nTo get to the Automatic1111 app, you will need to find the **External IP Address** of the server. First, find your instance on the VM Instances page. \nThen either:\n1. Go to the More Menu and click on **View Network Details**.\n2. OR Add the External IP column to the instances table\n\nGo to your browser, and enter your IP Address with the 7860 port: `http://YOUR_IP:7860` and you should see the Automatic1111 UI!\n\n## Automatic Startup\n\nIf you want to Automatic1111 to startup automatically when your server starts, you can add it to your cron file:\n\n```\nsudo apt-get install nano cron\ncrontab -e\n```\n\nAdd the following to the end of the file that opens in nano:\n\n```\n@reboot ~/stable-diffusion-webui/webui.sh --listen --xformers --api\n```\n\nSave the file, and it should start up automatically the next time you start your server\n\n## Starting and Stopping the VM\n\nYou can start and stop your VM in the More Menu in the VM Instances page.\n\nYou cannot suspend GPU instances; you have to fully shut down every time.\n\n## Spot Provisioning\n\nAs I mentioned above, Spot provisioning gives Google the right to shut down your server if they need resources for something else. For me, the lower price is worth this annoyance of this happening every once-in-a-while.\n\nHere are some tips to avoid getting shutdown:\n\n**Run your server during non-business hours**. For example, if you create your instance in your region, run your server at night or on weekends.\n\n**Create instances in multiple regions.** Create another instance in a region on the other side of the globe. That way you can run that instance during the day (when it is night in your server&#39;s region). Note that the requests will take longer in a distant region.\n\n## Creating an image\n\nIf you are happy with your setup, and want to create more VM instances, you can save yourself a lot of setup by creating an Image.\n\n1. Go to the **Images (Compute Engine)** page\n2. Click **Create Image**\n3. For **Source Disk**, select the disk of your existing instance\n4. For **Location**, select **regional** (the location is just where it is stored)\n5. Click \&quot;Create\&quot;\n\nNow when you want to create a new instance, you can go to your image, and click **Create Instance**. The instance will be already setup to run Automatic1111 Stable Diffusion!\n\n## The Automatic1111 API\n\nIf you want to build your own UI, or run bulk generating of images, the API is very helpful. Because we added the `--api` parameter when we started Automatic1111, the api will be enabled.\n\nYou can access the API at: `HOST:7860/sdapi/v1/txt2img`\n&quot;],&quot;collection&quot;:[0,&quot;stable-diffusion&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Running in Google Cloud&quot;],&quot;metaTitle&quot;:[0,&quot;Running Automatic1111 in Google Cloud | Stable Diffusion in the Cloud&quot;],&quot;updated&quot;:[3,&quot;2023-05-15T00:00:00.000Z&quot;],&quot;desc&quot;:[0,&quot;A full guide to running your own stable diffusion server using Google Cloud Compute Engine&quot;],&quot;tags&quot;:[1,[[0,&quot;ai&quot;],[0,&quot;cloud&quot;]]],&quot;img&quot;:[0,{&quot;src&quot;:[0,&quot;/_astro/mtn-clouds.cp1DVsLX.jpg&quot;],&quot;width&quot;:[0,512],&quot;height&quot;:[0,512],&quot;format&quot;:[0,&quot;jpg&quot;]}],&quot;order&quot;:[0,2]}],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;aws.md&quot;],&quot;slug&quot;:[0,&quot;aws&quot;],&quot;body&quot;:[0,&quot;\n## Create VM Instance\n\nThis guide assumes you already have an AWS account setup.\n\n1. In the AWS console, Go to Compute -&gt; **EC2** \n2. Click **Launch an Instance**\n3. Choose **Ubuntu** as the Operating System\n4. Select a GPU instance type. I recommend **g5.xlarge**, because it&#39;s very fast, but you can choose **g4dn.xlarge** for a cheaper option.\n5. Select your **Key pair** for SSH login. If you don&#39;t have one yet, you should create one with the default settings, and download the private key to a secure location on your computer.\n6. Create a security group, or select an existing one. If you are creating a new one, you can simply check all 3 options (allow SSH, allow HTTPS, and allow HTTP). If you are selecting an existing policy, make sure port **7860** is exposed.\n7. Set your storage to at least **50 GB** of **gp3** storage (I recommend making it 100 GB to allow space to install more models and extensions).\n8. Click **Launch Instance**\n\n## Connect to your instance\n\nWhen your instance is started, click **Connect**. You can use either **EC2 Instance Connect** or **SSH client** to connect to your instance.\n\nIf you use **EC2 Instance Connect**, you will launch a command prompt right in the browser. This is the easiest way.\n\nIf you use **SSH client**, you can follow the provided directions, using the Key Pair private key you downloaded earlier.\n\n## Setup your instance\n\nUsing the command line, we need to install GPU drivers and python libraries before we can run Automatic1111. It is recommended to run all these commands from your home directory.\n\n### Install GPU Driver\n```\nwget https://raw.githubusercontent.com/GoogleCloudPlatform/compute-gpu-installation/main/linux/install_gpu_driver.py\n\nsudo python3 install_gpu_driver.py\n```\n\n### Install Cuda (Nvidia GPU Software)\n```\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-keyring_1.0-1_all.deb\n\nsudo dpkg -i cuda-keyring_1.0-1_all.deb\n\nsudo apt-get update\n\nsudo apt-get -y install cuda\n```\n\nThere is no need to restart services, you can cancel any prompts that appear.\n\n### Install python libraries\n\n```\nsudo apt-get update\n\nsudo apt -y install python3-venv python3-pip\n\nsudo apt-get install -y python3-opencv\n\nsudo apt install --no-install-recommends -y google-perftools\n```\n\nThere is no need to restart services, you can cancel any prompts that appear.\n\n### Download the Automatic1111 repo\n\n```\ngit clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git\n```\n\n## Running Automatic1111\n```\nstable-diffusion-webui/webui.sh --listen --xformers --api --enable-insecure-extension-access --skip-torch-cuda-test\n```\n\nIt will take a few minutes to start the first time.\n\nTo get to the Automatic1111 app, you will need to find the **Public IPv4 Address** of the server. You will find this on the EC2 instance summary page.\n\nGo to your browser, and enter your IP Address with the 7860 port: `http://YOUR_IP:7860` and you should see the Automatic1111 UI!\n\n## Automatic Startup\n\nIf you want to Automatic1111 to startup automatically when your server starts, you can add it to your cron file:\n\n```\nsudo apt-get install nano cron\n\ncrontab -e\n```\n\nAdd the following to the end of the file that opens in nano:\n\n```\n@reboot ~/stable-diffusion-webui/webui.sh --listen --xformers --api --enable-insecure-extension-access --skip-torch-cuda-test\n```\n\nSave the file, and now Automatic1111 should start automatically the next time you start your instance.\n\n## Starting and Stopping the VM\n\nYou can start and stop your instance via the **instance summary** or **instance list** pages. When your server is stopped, you only pay for the persistent hard drive, while the actual VM  incurs costs only when it is running. So don&#39;t forget to stop your instance when you are finished using it.\n\n## Spot Provisioning\n\nSpot provisioning is an option that gives you cheaper pricing on instances. But you can only run a spot server when AWS has enough resources available, and it gives AWS the right to shut down your server if they need resources for something else. \n\n&gt; Spot provisioning in Google Cloud worked great for me during off-peak hours, but I didn&#39;t have as good of an experience with AWS. So in AWS I tend to run normal provisioning.\n\nHere are some tips to avoid getting shutdown when running spot provisioning:\n\n**Run your server during non-business hours**. For example, if you create your instance in your region, run your server at night or on weekends.\n\n**Create instances in multiple regions.** Create another instance in a region on the other side of the globe. That way you can run that instance during the day (when it is night in your server&#39;s region). Note that the requests will take longer in a distant region.\n\n## The Automatic1111 API\n\nIf you want to build your own UI, or run bulk generating of images, the API is very helpful. Because we added the `--api` parameter when we started Automatic1111, the api will be enabled.\n\nYou can access the API at: `HOST:7860/sdapi/v1/txt2img`\n&quot;],&quot;collection&quot;:[0,&quot;stable-diffusion&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Running in AWS&quot;],&quot;metaTitle&quot;:[0,&quot;Running Automatic1111 in AWS | Stable diffusion in the Cloud&quot;],&quot;updated&quot;:[3,&quot;2024-01-07T00:00:00.000Z&quot;],&quot;desc&quot;:[0,&quot;A full guide to running your own stable diffusion server on an EC2 instance in AWS&quot;],&quot;tags&quot;:[1,[[0,&quot;ai&quot;],[0,&quot;cloud&quot;]]],&quot;img&quot;:[0,{&quot;src&quot;:[0,&quot;/_astro/mtn-clouds.cp1DVsLX.jpg&quot;],&quot;width&quot;:[0,512],&quot;height&quot;:[0,512],&quot;format&quot;:[0,&quot;jpg&quot;]}],&quot;order&quot;:[0,3]}],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;api.mdx&quot;],&quot;slug&quot;:[0,&quot;api&quot;],&quot;body&quot;:[0,&quot;\n## Reasons to use the API\n\n**1. Automated Processes**. You can create a script that generates images while you do other things. The script can randomize parameters to achieve different results. Or the script could go through a list of prompts and generates images for each prompt.\n\n**2. Building a client app**. Build and monetize an app that will generate images for other users.\n\n## Getting Started\n\nWhen you start Automatic1111, make sure to include the `--api` option. For example:\n\n```\nstable-diffusion-webui/webui.sh --listen --xformers --api\n```\n\nAll endpoints are located at: `/sdapi/v1/*`. For example, `http://localhost:7860/sdapi/v1/txt2img`.\n\nThe official api spec can be seen by going to `/docs` on your server, but it is very basic.\n\n## Endpoint Guides\n\n* [Text to Image (txt2img)](txt2img)\n* [ControlNet Api](controlnet-api)\n&quot;],&quot;collection&quot;:[0,&quot;stable-diffusion&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Introduction to the API&quot;],&quot;metaTitle&quot;:[0,&quot;Using the Automatic1111 API | Stable Diffusion in the Cloud&quot;],&quot;updated&quot;:[3,&quot;2024-01-09T00:00:00.000Z&quot;],&quot;desc&quot;:[0,&quot;A guide to using the Automatic1111 API to run stable diffusion from an app or a batch process&quot;],&quot;img&quot;:[0,{&quot;src&quot;:[0,&quot;/_astro/4planets.wV0wUOEL.jpg&quot;],&quot;width&quot;:[0,512],&quot;height&quot;:[0,512],&quot;format&quot;:[0,&quot;jpg&quot;]}],&quot;order&quot;:[0,4]}],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;txt2img.mdx&quot;],&quot;slug&quot;:[0,&quot;txt2img&quot;],&quot;body&quot;:[0,&quot;\n\n\n\nimport ParamTable from \&quot;@/components/automatic1111/ParamTable\&quot;;\n\nThe txt2img endpoint will generate an image based on a text prompt. This is the most commonly used endpoint.\n\n\n## Basic Example\n\n&gt; POST /sdapi/v1/txt2img\n\n```json\n{\n  \&quot;prompt\&quot;: \&quot;Sunset in the mountains, lake in front\&quot;,\n  \&quot;negative_prompt\&quot;: \&quot;clouds, people\&quot;,\n  \&quot;sampler_name\&quot;: \&quot;Euler\&quot;,\n  \&quot;steps\&quot;: 20,\n  \&quot;cfg_scale\&quot;: 7,\n  \&quot;height\&quot;: 512,\n  \&quot;width\&quot;: 512,\n  \&quot;seed\&quot;: -1\n}\n```\n\n## High Resolution\nTo increase the resolution of the generated image, add the following params:\n\n```json\n{\n  \&quot;enable_hr\&quot;: true,\n  \&quot;hr_scale\&quot;: 2,\n  \&quot;denoising_strength\&quot;: 0.7,\n  \&quot;hr_second_pass_steps\&quot;: 10,\n  \&quot;hr_upscaler\&quot;: \&quot;R-ESRGAN\&quot;\n}\n```\n\nThe `hr-scale` param multiplies the specified width and height (if the base resolution is 512x512, and the hr_scale is 2, then the output will be 1024x1024)\n\n## Response\n\nYour response will contain an array of output images, and the values of all the parameters it used to generate the images:\n\n```json\n{\n  \&quot;images\&quot;: [\&quot;iVBORw0KGgoAAAANSUhEUgAAA...\&quot;],\n  \&quot;parameters\&quot;: {\n    \&quot;enable_hr\&quot;: false,\n    \&quot;denoising_strength\&quot;: 0,\n    \&quot;firstphase_width\&quot;: 0,\n    \&quot;firstphase_height\&quot;: 0,\n    \&quot;hr_scale\&quot;: 2.0,\n    \&quot;hr_upscaler\&quot;: null,\n    \&quot;hr_second_pass_steps\&quot;: 0,\n    \&quot;hr_resize_x\&quot;: 0,\n    \&quot;hr_resize_y\&quot;: 0,\n    \&quot;prompt\&quot;: \&quot;Astronaut planting a flag on the moon\&quot;,\n    \&quot;styles\&quot;: null,\n    \&quot;seed\&quot;: -1,\n    \&quot;subseed\&quot;: -1,\n    \&quot;subseed_strength\&quot;: 0,\n    \&quot;seed_resize_from_h\&quot;: -1,\n    \&quot;seed_resize_from_w\&quot;: -1,\n    \&quot;sampler_name\&quot;: null,\n    \&quot;batch_size\&quot;: 1,\n    \&quot;n_iter\&quot;: 1,\n    \&quot;steps\&quot;: 20,\n    \&quot;cfg_scale\&quot;: 7.0,\n    \&quot;width\&quot;: 512,\n    \&quot;height\&quot;: 512,\n    \&quot;restore_faces\&quot;: false,\n    \&quot;tiling\&quot;: false,\n    \&quot;do_not_save_samples\&quot;: false,\n    \&quot;do_not_save_grid\&quot;: false,\n    \&quot;negative_prompt\&quot;: \&quot;\&quot;,\n    \&quot;eta\&quot;: null,\n    \&quot;s_min_uncond\&quot;: 0.0,\n    \&quot;s_churn\&quot;: 0.0,\n    \&quot;s_tmax\&quot;: null,\n    \&quot;s_tmin\&quot;: 0.0,\n    \&quot;s_noise\&quot;: 1.0,\n    \&quot;override_settings\&quot;: null,\n    \&quot;override_settings_restore_afterwards\&quot;: true,\n    \&quot;script_args\&quot;: [],\n    \&quot;sampler_index\&quot;: \&quot;Euler\&quot;,\n    \&quot;script_name\&quot;: null,\n    \&quot;send_images\&quot;: true,\n    \&quot;save_images\&quot;: false,\n    \&quot;alwayson_scripts\&quot;: {}\n  }\n}\n```\n\nThe number of images depends on what you specified for a batch size. The images are in base64 format, and therefore need to be decoded and saved to the file system as normal images:\n\n```js\nresult.images.forEach((img, i) =&gt; {\n  const buf = Buffer.from(img, &#39;base64&#39;);\n  fs.writeFileSync(`image-${i}.png`, buf);\n});\n\n```\n\n## Full Example\n\nHere is a full javascript (nodejs) example:\n\n```js\nconst result = await fetch(&#39;[server]:7860/sdapi/v1/txt2img&#39;, {\n  method: &#39;POST&#39;,\n  body: JSON.stringify({\n    prompt: \&quot;Sunset in the mountains, lake in front\&quot;,\n    negative_prompt: \&quot;clouds, people\&quot;,\n    sampler_name: \&quot;Euler\&quot;,\n    steps: 20,\n    cfg_scale: 7,\n    height: 512,\n    width: 512\n  })\n}).then(res =&gt; res.json());\nresult.images.forEach((img, i) =&gt; {\n  const buf = Buffer.from(img, &#39;base64&#39;);\n  fs.writeFileSync(`image-${i}.png`, buf);\n});\n```\n\n\n## Control Net\n\nSee the [ControlNet API](controlnet-api) guide for sending in a control input image\n\n## Full List of params\n\nThis is the full list of params that can be used for the `txt2img` endpoint:\n\n&lt;ParamTable type=\&quot;txt2img\&quot;/&gt;\n&quot;],&quot;collection&quot;:[0,&quot;stable-diffusion&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Text-to-Image API&quot;],&quot;metaTitle&quot;:[0,&quot;Text to Image&quot;],&quot;updated&quot;:[3,&quot;2024-01-09T00:00:00.000Z&quot;],&quot;desc&quot;:[0,&quot;A guide to using the automatic1111 txt2img endpoint&quot;],&quot;hide&quot;:[0,true],&quot;img&quot;:[0,{&quot;src&quot;:[0,&quot;/_astro/4planets.wV0wUOEL.jpg&quot;],&quot;width&quot;:[0,512],&quot;height&quot;:[0,512],&quot;format&quot;:[0,&quot;jpg&quot;]}],&quot;order&quot;:[0,5]}],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;controlnet-api.mdx&quot;],&quot;slug&quot;:[0,&quot;controlnet-api&quot;],&quot;body&quot;:[0,&quot;\n\n\n\nimport ParamTable from \&quot;../../components/automatic1111/ParamTable\&quot;;\n\n## Intro\n\nControlNet allows users to control the generation process of stable diffusion images with spatial contexts. One of the  most common examples is using a \&quot;pose\&quot; - a stick figure drawing to control the position of a person in the output. But there are many other use cases.\n\n&gt; You must have the ControlNet extension installed in Automatic1111.\n\n## Encode Input in Base64\n\nSince we need to send an image to our server, we need to encode the image in base64. This example uses javascript:\n\n```js\nconst buf = fs.readFileSync(&#39;my-file.png&#39;);\nconst myBase64EncodedImage = Buffer.from(buf).toString(&#39;base64&#39;)\n```\n\n## API Request\n\n&gt; POST /sdapi/v1/txt2img\n\nTo use ControlNet, we use the same `txt2img` endpoint, but we pass in extra params:\n\n```json\n{\n  \&quot;prompt\&quot;: \&quot;Sunset in the mountains, lake in front\&quot;,\n  // other txt2img params\n  \&quot;alwayson_scripts\&quot;: {\n    \&quot;controlnet\&quot;: {\n      \&quot;args\&quot;: [\n        {\n          \&quot;input_image\&quot;: myBase64EncodedImage,\n          \&quot;model\&quot;: \&quot;depth_fp16\&quot;,\n          \&quot;module\&quot;: \&quot;depth\&quot;\n        }\n      ]\n    }\n  }\n}\n```\n\nThe **input_image** param should be encoded base64 string of your input image.\n\nThe **module** param is the name of the preprocessor to use.\n\nThe **model** param should be set to the name of a ControlNet model you have installed. For example, if your model name is called `depth_fp16.safetensors`, the value should be `depth_fp16`.\n\n## Response\n\nSee the [txt2img](txt2img#response) guide for response examples\n\n## Full List of Params\n\n&lt;ParamTable type=\&quot;controlnet\&quot;/&gt;\n\n\n&quot;],&quot;collection&quot;:[0,&quot;stable-diffusion&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;ControlNet API&quot;],&quot;metaTitle&quot;:[0,&quot;Using the ControlNet API | Stable Diffusion in the Cloud&quot;],&quot;updated&quot;:[3,&quot;2024-01-09T00:00:00.000Z&quot;],&quot;desc&quot;:[0,&quot;A guide to using the Automatic1111 API to run stable diffusion from an app or a batch process&quot;],&quot;hide&quot;:[0,true],&quot;img&quot;:[0,{&quot;src&quot;:[0,&quot;/_astro/4planets.wV0wUOEL.jpg&quot;],&quot;width&quot;:[0,512],&quot;height&quot;:[0,512],&quot;format&quot;:[0,&quot;jpg&quot;]}],&quot;order&quot;:[0,6]}],&quot;render&quot;:[0,null]}]]],&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;intro&quot;],&quot;text&quot;:[0,&quot;Intro&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;encode-input-in-base64&quot;],&quot;text&quot;:[0,&quot;Encode Input in Base64&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;api-request&quot;],&quot;text&quot;:[0,&quot;API Request&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;response&quot;],&quot;text&quot;:[0,&quot;Response&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;full-list-of-params&quot;],&quot;text&quot;:[0,&quot;Full List of Params&quot;]}]]]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ArticleTOC&quot;,&quot;value&quot;:true}" await-children=""><nav data-hk="s00-0" aria-label="Table of Contents" class="card rb-article__nav"><a data-hk="s00-1" class="font-bold" href="intro">An Introduction</a><a data-hk="s00-2" class="font-bold" href="google-cloud">Running in Google Cloud</a><a data-hk="s00-3" class="font-bold" href="aws">Running in AWS</a><a data-hk="s00-4" class="font-bold" href="api">Introduction to the API</a><a data-hk="s00-5" class="font-bold" href="txt2img">Text-to-Image API</a><a data-hk="s00-6" class="font-bold" aria-selected="true" href="controlnet-api">ControlNet API</a><div data-hk="s00-7" class="rb-article__sub-nav"><a data-hk="s00-8" class="text-[16px]" href="#intro" aria-selected="false">Intro</a><a data-hk="s00-9" class="text-[16px]" href="#encode-input-in-base64" aria-selected="false">Encode Input in Base64</a><a data-hk="s00-10" class="text-[16px]" href="#api-request" aria-selected="false">API Request</a><a data-hk="s00-11" class="text-[16px]" href="#response" aria-selected="false">Response</a><a data-hk="s00-12" class="text-[16px]" href="#full-list-of-params" aria-selected="false">Full List of Params</a></div></nav><!--astro:end--></astro-island> </aside> </div> </div>  </main> <footer> <div class="footer-content"> <nav aria-label="Social Links" class="social-links"> <a href="https://github.com/randombits-dev" target="_blank" aria-label="Github"> <div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
</svg></div> </a> <a href="https://discord.gg/VdAySp2Y" target="_blank" aria-label="Discord"> <div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-discord" viewBox="0 0 16 16">
  <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"/>
</svg></div> </a> <a href="https://twitter.com/RandomBitsDev" target="_blank" aria-label="Twitter"> <div><svg viewBox="0 0 24 24">
  <g>
    <path
      d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
  </g>
</svg>
</div> </a> <a href="https://linktr.ee/randombits" target="_blank" aria-label="Linktree"> <div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" xml:space="preserve"><path d="M24 0C10.745 0 0 10.745 0 24s10.745 24 24 24 24-10.745 24-24S37.255 0 24 0zm1.881 37.001h-3.762v-8.495h3.762v8.495zm8.707-13.622h-6.432l4.581 4.45-2.518 2.528L24 24.107l-6.22 6.25-2.518-2.518 4.581-4.45h-6.432v-3.59h6.402l-4.551-4.339 2.518-2.579 4.339 4.46V11h3.762v6.341l4.338-4.46 2.518 2.579-4.551 4.339h6.402v3.58z"></path></svg></div> </a> <a href="https://keybase.io/randombitsdev" target="_blank" aria-label="Keybase"> <div><?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
  <path d="M13.927 28.495c0 0.703-0.567 1.271-1.271 1.271-0.697 0-1.271-0.568-1.271-1.271s0.568-1.271 1.271-1.271c0.699 0 1.265 0.573 1.265 1.271zM21.817 28.495c0 0.703-0.567 1.271-1.271 1.271-0.703 0-1.271-0.568-1.271-1.271s0.563-1.271 1.265-1.271c0.704 0 1.271 0.573 1.271 1.271zM27.869 16.287l-0.208-0.276c-0.057-0.079-0.125-0.151-0.188-0.229-0.061-0.084-0.124-0.151-0.187-0.229-0.141-0.156-0.281-0.317-0.427-0.479l-0.1-0.104-0.124-0.131-0.177-0.177c-0.021-0.025-0.043-0.047-0.068-0.073-1.547-1.515-3.339-2.645-5.271-3.337l-0.308-0.105c0.016-0.031 0.032-0.072 0.048-0.109 0.547-1.416 0.489-2.963-0.163-4.339-0.656-1.38-1.807-2.4-3.249-2.88-0.875-0.287-1.641-0.427-2.281-0.405-0.047-0.141-0.136-0.772 0.661-2.464l-1.609-0.948-0.385 0.531c-0.437 0.609-0.864 1.193-1.26 1.772-0.437-0.459-1.021-0.735-1.656-0.772l-1.881-0.115c-0.041-0.004-0.093-0.004-0.135-0.004-1.323 0-2.417 1.025-2.495 2.337l-0.12 1.871v0.005c-0.079 1.369 0.968 2.552 2.344 2.635l1.333 0.084c-0.089 1.12 0.099 2.161 0.541 3.072-1.797 0.751-3.448 1.871-4.88 3.313-4.407 4.459-4.407 9.339-4.407 13.26v2.371l1.74-1.849c0.353 1.239 0.869 2.407 1.525 3.484h2.261c-1.109-1.484-1.891-3.235-2.24-5.131l2.552-2.708-1.312 4.125 2.317-1.693c4.099-2.979 8.995-3.667 14.547-2.036 2.407 0.708 4.751 0.052 5.964-1.677l0.14-0.219c0.12 0.661 0.188 1.328 0.188 1.995 0 2.084-0.339 4.917-1.839 7.349h2.145c1.037-2.083 1.579-4.579 1.579-7.349-0.005-2.932-1.052-5.896-2.917-8.364zM11.86 8.255c0.161-1.337 0.771-2.599 1.64-3.957 0.031 0.063 0.073 0.124 0.109 0.187 0.355 0.532 0.953 0.833 1.599 0.808 0.292-0.011 0.808 0.036 1.647 0.312 0.952 0.313 1.713 0.989 2.14 1.901 0.432 0.907 0.469 1.921 0.109 2.864-0.235 0.595-0.609 1.095-1.077 1.48l-0.543-0.672-0.005-0.005c-0.369-0.453-0.921-0.713-1.509-0.713-0.448 0-0.887 0.156-1.235 0.443-0.443 0.359-0.683 0.88-0.708 1.411-1.605-0.724-2.401-2.192-2.172-4.057zM17.599 15.068l-0.692 0.568c-0.063 0.047-0.125 0.067-0.199 0.067-0.083 0-0.177-0.036-0.235-0.109l-0.145-0.181c-0.115-0.131-0.088-0.333 0.041-0.443l0.683-0.563-1.407-1.729c-0.145-0.183-0.119-0.443 0.057-0.584 0.079-0.063 0.167-0.099 0.261-0.099 0.119 0 0.239 0.052 0.317 0.151l3.953 4.865c0.145 0.177 0.12 0.437-0.057 0.577-0.052 0.043-0.109 0.073-0.167 0.084-0.032 0.011-0.063 0.016-0.093 0.016-0.12 0-0.24-0.057-0.324-0.152l-0.391-0.489-1.396 1.141c-0.057 0.047-0.129 0.072-0.203 0.072-0.088 0-0.188-0.041-0.249-0.12l-0.636-0.771c-0.109-0.135-0.088-0.339 0.047-0.448l1.401-1.145zM10.339 6.489l-1.593-0.104c-0.344-0.016-0.605-0.312-0.584-0.645l0.12-1.871c0.021-0.328 0.292-0.583 0.615-0.583h0.031l1.871 0.125c0.167 0.004 0.317 0.077 0.421 0.203 0.109 0.125 0.167 0.276 0.156 0.448l-0.011 0.131c-0.427 0.76-0.78 1.515-1.031 2.296zM27.036 21.797c-0.755 1.072-2.249 1.443-3.9 0.957-5.177-1.52-9.86-1.208-13.953 0.933l2.177-6.828-7.053 7.479c0.131-5.021 3.272-9.292 7.677-11.084 0.631 0.495 1.38 0.881 2.229 1.12 0.213 0.057 0.432 0.099 0.641 0.136-0.245 0.615-0.157 1.333 0.281 1.875l0.099 0.125c-0.229 0.599-0.141 1.296 0.296 1.828l0.631 0.776c0.355 0.432 0.88 0.688 1.437 0.688 0.432 0 0.849-0.152 1.183-0.423l0.38-0.307c0.235 0.099 0.489 0.151 0.756 0.151 0.151 0 0.296-0.016 0.443-0.047 0.285-0.068 0.561-0.204 0.796-0.391 0.828-0.677 0.959-1.912 0.276-2.745l-2.224-2.739c0.193-0.157 0.376-0.329 0.541-0.511 0.183 0.052 0.365 0.104 0.537 0.161 0.353 0.129 0.708 0.26 1.057 0.416 1.339 0.595 2.604 1.469 3.692 2.532 0.043 0.041 0.084 0.072 0.115 0.109l0.229 0.235c0.047 0.052 0.099 0.104 0.147 0.161 0.104 0.115 0.213 0.233 0.317 0.353l0.172 0.204c0.057 0.067 0.115 0.135 0.172 0.213l0.151 0.197c0.052 0.068 0.104 0.136 0.156 0.204 1.12 1.536 1.317 3.109 0.536 4.213v0.005zM10.292 5.484l-1.115-0.068 0.073-1.109 1.109 0.068z"/>
</svg></div> </a> <button id="footer__envelope" title="Copy Email"> <span><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>
</span> <span id="footer__quick-msg" class="quick-msg">Email copied</span> </button> </nav> </div> <div class="copyright">
&copy; 2024 Random Bits
</div> </footer>  </div> <astro-island uid="Z2807xS" data-solid-render-id="s1" component-url="/_astro/ThemeChanger.qTEDRh7z.js" component-export="default" renderer-url="/_astro/client.yQAK7mEh.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ThemeChanger&quot;,&quot;value&quot;:true}" await-children=""><div data-hk="s10-0" class="fixed md:fixed w-full bottom-[-21px] text-center z-20"><div class="rb-theme-changer inline-block md:rounded-t-xl overflow-hidden bg-header text-header-text"><button data-hk="s10-1" class="rounded-none inline-block px-5 py-3 mb-4 justify-center font-bold">Bumble</button><button data-hk="s10-2" class="rounded-none inline-block px-5 py-3 mb-4 justify-center font-bold">Bold</button><button data-hk="s10-3" class="rounded-none inline-block px-5 py-3 mb-4 justify-center font-bold">Overcast</button><button data-hk="s10-4" class="rounded-none inline-block px-5 py-3 mb-4 justify-center font-bold">Midnight</button></div></div><!--astro:end--></astro-island> </body></html> 