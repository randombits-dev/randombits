<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale = 1.0"><title>Advanced Guide to Module Federation</title><link rel="icon" type="image/svg" href="/favicon.svg"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><style type="text/css">@font-face {font-family: 'Inter';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZs.woff) format('woff');}@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU7NSQ.woff) format('woff');}@font-face {font-family: 'Space Grotesk';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/spacegrotesk/v16/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj7oUUsg.woff) format('woff');} /* cyrillic-ext */@font-face {font-family: 'Inter';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZJhiI2B.woff2) format('woff2');unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}/* cyrillic */@font-face {font-family: 'Inter';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZthiI2B.woff2) format('woff2');unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}/* greek-ext */@font-face {font-family: 'Inter';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZNhiI2B.woff2) format('woff2');unicode-range: U+1F00-1FFF;}/* greek */@font-face {font-family: 'Inter';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZxhiI2B.woff2) format('woff2');unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;}/* vietnamese */@font-face {font-family: 'Inter';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZBhiI2B.woff2) format('woff2');unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;}/* latin-ext */@font-face {font-family: 'Inter';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZFhiI2B.woff2) format('woff2');unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;}/* latin */@font-face {font-family: 'Inter';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiA.woff2) format('woff2');unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}/* cyrillic-ext */@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU79QB_VIKg.woff2) format('woff2');unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}/* vietnamese */@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU79Qh_VIKg.woff2) format('woff2');unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;}/* latin-ext */@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU79Qx_VIKg.woff2) format('woff2');unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;}/* latin */@font-face {font-family: 'Plus Jakarta Sans';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/plusjakartasans/v8/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU79TR_V.woff2) format('woff2');unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}/* vietnamese */@font-face {font-family: 'Space Grotesk';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/spacegrotesk/v16/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj7oUXsrPMBTTA.woff2) format('woff2');unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;}/* latin-ext */@font-face {font-family: 'Space Grotesk';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/spacegrotesk/v16/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj7oUXsqPMBTTA.woff2) format('woff2');unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;}/* latin */@font-face {font-family: 'Space Grotesk';font-style: normal;font-weight: 400;font-display: swap;src: url(https://fonts.gstatic.com/s/spacegrotesk/v16/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj7oUXskPMA.woff2) format('woff2');unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}</style><meta property="og:description" name="description" content="Beyond the basics of module federation to cover what a production app will most likely need. Dynamic Imports, Sharing Files and Libraries, Web Components, Routers, Prefetching, Cache Busting, Dynamic URLS."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@RandomBitsDev"><meta name="twitter:title" property="og:title" content="Advanced Guide to Module Federation"><meta name="twitter:image" property="og:image" content="https://randombits.dev/_astro/mf1.dxwAVIZx.png"><meta property="og:url" content="https://randombits.dev/articles/module-federation-advanced"><link rel="canonical" href="https://randombits.dev/articles/module-federation-advanced"> <meta property="og:type" content="https://ogp.me/ns/article#"> <meta property="article:modified_time" content="Sun Jan 01 2023 00:00:00 GMT+0000 (Coordinated Universal Time)"><link rel="stylesheet" href="/_astro/_slug_.wDTUMFqd.css" />
<style>h2[data-astro-cid-4wvhzws4]{margin-bottom:10px!important}
</style>
<link rel="stylesheet" href="/_astro/_slug_.eF2oVkr2.css" /><script type="module">
</script></head> <body class=""> <div class="flex flex-col min-h-screen"> <header class=" relative z-10 border-b"> <nav aria-label="Main" class="font-header block max-w-[1000px] mx-auto sm:flex text-lg sm:text-xl pt-5 rounded-b-xl overflow-hidden items-center"> <a class="flex-1 px-6 block items-center flex" href="/" aria-label="Home Page"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 375 374.999991" preserveAspectRatio="xMidYMid meet" version="1.0" width="75" data-astro-cid-tvrurpns> <defs data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns></g> <clipPath id="b987ed19db" data-astro-cid-tvrurpns> <path d="M 99.230469 99.230469 L 275.480469 99.230469 L 275.480469 275.480469 L 99.230469 275.480469 Z M 99.230469 99.230469 " clip-rule="nonzero" data-astro-cid-tvrurpns></path> </clipPath> </defs> <g transform="translate(189.518499, 85.905261)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 28.464844 -31.714844 C 34.953125 -30.238281 34.597656 -21.421875 33.285156 -15.652344 C 31.941406 -9.753906 28.269531 -2.109375 22.042969 -3.527344 C 15.683594 -4.976562 15.785156 -13.296875 17.191406 -19.457031 C 18.472656 -25.097656 22.105469 -33.164062 28.464844 -31.714844 Z M 20.011719 5.386719 C 32.859375 8.3125 41.011719 -4.171875 43.132812 -13.480469 C 44.96875 -21.542969 44.128906 -37.523438 30.496094 -40.628906 C 16.859375 -43.734375 9.179688 -29.695312 7.34375 -21.632812 C 5.222656 -12.324219 7.164062 2.460938 20.011719 5.386719 Z M 20.011719 5.386719 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(236.433355, 100.207614)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 39.28125 -28.375 L 23.761719 -33.019531 L 19.808594 -27.332031 L 24.171875 -24.300781 L 4.914062 3.414062 L 13.195312 9.167969 Z M 39.28125 -28.375 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(260.011948, 116.029043)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 42.5 -3.105469 C 46.152344 2.460938 39.78125 8.566406 34.835938 11.808594 C 29.773438 15.128906 21.828125 18.085938 18.324219 12.746094 C 14.75 7.292969 20.59375 1.371094 25.878906 -2.09375 C 30.714844 -5.265625 38.925781 -8.558594 42.5 -3.105469 Z M 10.679688 17.757812 C 17.902344 28.777344 32.4375 25.441406 40.421875 20.207031 C 47.335938 15.671875 57.816406 3.578125 50.148438 -8.117188 C 42.480469 -19.8125 27.210938 -15.023438 20.292969 -10.492188 C 12.308594 -5.257812 3.453125 6.738281 10.679688 17.757812 Z M 10.679688 17.757812 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(284.905075, 156.739762)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 39.300781 16.472656 C 40.035156 23.089844 31.59375 25.648438 25.714844 26.300781 C 19.699219 26.96875 11.273438 26.007812 10.570312 19.660156 C 9.851562 13.179688 17.742188 10.546875 24.023438 9.847656 C 29.769531 9.210938 38.582031 9.992188 39.300781 16.472656 Z M 1.480469 20.667969 C 2.933594 33.765625 17.402344 37.371094 26.890625 36.316406 C 35.109375 35.40625 49.929688 29.363281 48.390625 15.464844 C 46.847656 1.566406 31.0625 -1.078125 22.84375 -0.167969 C 13.355469 0.886719 0.0273438 7.574219 1.480469 20.667969 Z M 1.480469 20.667969 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(286.796018, 205.751475)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 39.699219 27.789062 L 38.988281 11.605469 L 32.320312 9.738281 L 30.890625 14.855469 L -1.613281 5.761719 L -4.328125 15.472656 Z M 39.699219 27.789062 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(277.379468, 234.04751)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 29.839844 38.179688 L 33.894531 22.496094 L 28.0625 18.761719 L 25.199219 23.234375 L -3.226562 5.039062 L -8.664062 13.53125 Z M 29.839844 38.179688 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(262.463092, 258.205921)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 4.710938 42.351562 C -0.714844 46.210938 -7.054688 40.078125 -10.484375 35.257812 C -13.992188 30.324219 -17.25 22.496094 -12.042969 18.792969 C -6.730469 15.015625 -0.589844 20.632812 3.070312 25.78125 C 6.421875 30.492188 10.023438 38.574219 4.710938 42.351562 Z M -17.34375 11.34375 C -28.082031 18.980469 -24.195312 33.375 -18.664062 41.15625 C -13.871094 47.894531 -1.386719 57.910156 10.007812 49.804688 C 21.40625 41.699219 16.042969 26.621094 11.25 19.882812 C 5.71875 12.101562 -6.605469 3.707031 -17.34375 11.34375 Z M -17.34375 11.34375 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(222.723222, 284.62133)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M -14.976562 39.898438 C -21.558594 40.878906 -24.433594 32.542969 -25.308594 26.691406 C -26.203125 20.707031 -25.5625 12.25 -19.246094 11.304688 C -12.796875 10.339844 -9.867188 18.128906 -8.933594 24.378906 C -8.078125 30.097656 -8.527344 38.933594 -14.976562 39.898438 Z M -20.597656 2.261719 C -33.632812 4.210938 -36.683594 18.804688 -35.273438 28.246094 C -34.050781 36.425781 -27.453125 51.007812 -13.625 48.941406 C 0.207031 46.871094 2.253906 31 1.03125 22.820312 C -0.378906 13.378906 -7.566406 0.316406 -20.597656 2.261719 Z M -20.597656 2.261719 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(175.330236, 290.183269)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M -31.414062 28.792969 C -37.730469 26.691406 -36.519531 17.953125 -34.652344 12.339844 C -32.738281 6.597656 -28.339844 -0.652344 -22.28125 1.367188 C -16.09375 3.425781 -17.003906 11.699219 -19 17.691406 C -20.828125 23.179688 -25.226562 30.855469 -31.414062 28.792969 Z M -19.390625 -7.308594 C -31.894531 -11.472656 -41.222656 0.160156 -44.238281 9.21875 C -46.851562 17.0625 -47.570312 33.050781 -34.304688 37.46875 C -21.035156 41.886719 -12.027344 28.660156 -9.414062 20.816406 C -6.394531 11.757812 -6.890625 -3.144531 -19.390625 -7.308594 Z M -19.390625 -7.308594 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(130.026601, 271.382339)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M -41.855469 24.417969 L -26.863281 30.550781 L -22.375 25.273438 L -26.421875 21.832031 L -4.558594 -3.875 L -12.242188 -10.410156 Z M -41.855469 24.417969 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(108.103516, 253.341258)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M -42.601562 -1.046875 C -45.691406 -6.941406 -38.757812 -12.398438 -33.519531 -15.144531 C -28.160156 -17.953125 -19.960938 -20.125 -16.996094 -14.46875 C -13.96875 -8.695312 -20.363281 -3.367188 -25.960938 -0.433594 C -31.082031 2.25 -39.574219 4.726562 -42.601562 -1.046875 Z M -8.898438 -18.714844 C -15.015625 -30.386719 -29.804688 -28.476562 -38.261719 -24.046875 C -45.585938 -20.207031 -57.191406 -9.1875 -50.699219 3.199219 C -44.207031 15.582031 -28.542969 12.304688 -21.21875 8.464844 C -12.761719 4.035156 -2.78125 -7.042969 -8.898438 -18.714844 Z M -8.898438 -18.714844 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(87.29106, 210.40092)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M -37.511719 -20.222656 C -37.597656 -26.875 -28.945312 -28.601562 -23.03125 -28.679688 C -16.980469 -28.757812 -8.6875 -26.984375 -8.605469 -20.597656 C -8.519531 -14.074219 -16.632812 -12.222656 -22.949219 -12.140625 C -28.730469 -12.066406 -37.425781 -13.699219 -37.511719 -20.222656 Z M 0.539062 -20.714844 C 0.367188 -33.890625 -13.683594 -38.886719 -23.230469 -38.761719 C -31.5 -38.65625 -46.835938 -34.085938 -46.652344 -20.101562 C -46.472656 -6.121094 -31.019531 -1.949219 -22.753906 -2.058594 C -13.207031 -2.179688 0.707031 -7.539062 0.539062 -20.714844 Z M 0.539062 -20.714844 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(90.175874, 161.43769)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M -36.804688 -31.519531 L -37.675781 -15.34375 L -31.21875 -12.839844 L -29.296875 -17.789062 L 2.164062 -5.578125 L 5.8125 -14.980469 Z M -36.804688 -31.519531 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(102.30184, 134.192526)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M -25.984375 -40.902344 L -31.542969 -25.6875 L -26.101562 -21.402344 L -22.816406 -25.578125 L 3.699219 -4.703125 L 9.9375 -12.625 Z M -25.984375 -40.902344 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(121.862556, 111.682191)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M -12.890625 -46.710938 L -22.65625 -33.785156 L -18.707031 -28.097656 L -14.34375 -31.128906 L 4.914062 -3.414062 L 13.195312 -9.167969 Z M -12.890625 -46.710938 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(144.915966, 95.104919)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 11.914062 -40.914062 C 18.40625 -42.394531 21.90625 -34.296875 23.21875 -28.527344 C 24.5625 -22.628906 24.566406 -14.148438 18.335938 -12.726562 C 11.980469 -11.28125 8.46875 -18.824219 7.0625 -24.984375 C 5.78125 -30.621094 5.558594 -39.464844 11.914062 -40.914062 Z M 20.367188 -3.8125 C 33.214844 -6.742188 35.15625 -21.523438 33.035156 -30.832031 C 31.199219 -38.894531 23.519531 -52.9375 9.882812 -49.828125 C -3.75 -46.722656 -4.589844 -30.742188 -2.753906 -22.679688 C -0.632812 -13.371094 7.519531 -0.886719 20.367188 -3.8125 Z M 20.367188 -3.8125 " data-astro-cid-tvrurpns></path> </g> </g> <g clip-path="url(#b987ed19db)" data-astro-cid-tvrurpns> <path d="M 187.496094 124.546875 C 222.242188 124.546875 250.449219 152.753906 250.449219 187.496094 C 250.449219 222.242188 222.242188 250.449219 187.496094 250.449219 C 152.753906 250.449219 124.546875 222.242188 124.546875 187.496094 C 124.546875 152.753906 152.753906 124.546875 187.496094 124.546875 Z M 192.746094 99.445312 C 189.25 99.238281 185.746094 99.238281 182.25 99.445312 L 176.15625 113.382812 C 170.71875 114.214844 165.386719 115.644531 160.261719 117.644531 L 148.019531 108.617188 C 144.886719 110.1875 141.851562 111.9375 138.925781 113.867188 L 140.617188 128.984375 C 136.324219 132.425781 132.421875 136.324219 128.984375 140.621094 L 113.867188 138.925781 C 111.9375 141.851562 110.1875 144.886719 108.617188 148.019531 L 117.644531 160.261719 C 115.644531 165.386719 114.214844 170.71875 113.382812 176.15625 L 99.445312 182.246094 C 99.238281 185.746094 99.238281 189.25 99.445312 192.746094 L 113.382812 198.835938 C 114.21875 204.277344 115.644531 209.605469 117.644531 214.730469 L 108.617188 226.976562 C 110.1875 230.109375 111.9375 233.144531 113.867188 236.066406 L 128.984375 234.375 C 132.425781 238.667969 136.324219 242.570312 140.621094 246.011719 L 138.925781 261.125 C 141.851562 263.054688 144.886719 264.808594 148.019531 266.375 L 160.261719 257.351562 C 165.386719 259.347656 170.71875 260.777344 176.15625 261.609375 L 182.25 275.546875 C 185.746094 275.753906 189.25 275.753906 192.746094 275.546875 L 198.839844 261.609375 C 204.277344 260.777344 209.605469 259.347656 214.734375 257.351562 L 226.976562 266.375 C 230.109375 264.808594 233.144531 263.054688 236.066406 261.125 L 234.375 246.011719 C 238.667969 242.570312 242.570312 238.667969 246.011719 234.375 L 261.125 236.066406 C 263.054688 233.144531 264.808594 230.109375 266.375 226.976562 L 257.351562 214.730469 C 259.347656 209.605469 260.777344 204.277344 261.609375 198.835938 L 275.546875 192.746094 C 275.757812 189.25 275.757812 185.746094 275.546875 182.246094 L 261.609375 176.15625 C 260.777344 170.71875 259.347656 165.386719 257.351562 160.261719 L 266.375 148.019531 C 264.808594 144.886719 263.054688 141.851562 261.125 138.925781 L 246.011719 140.621094 C 242.570312 136.324219 238.667969 132.425781 234.375 128.984375 L 236.066406 113.867188 C 233.144531 111.941406 230.109375 110.1875 226.976562 108.621094 L 214.734375 117.644531 C 209.605469 115.644531 204.277344 114.21875 198.839844 113.386719 Z M 192.746094 99.445312 " fill-opacity="1" fill-rule="evenodd" data-astro-cid-tvrurpns></path> </g> <g transform="translate(146.954731, 209.25145)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 33.277344 -8.335938 C 29.480469 -13.648438 25.042969 -16.539062 20.335938 -17.714844 C 31.09375 -18.152344 35.296875 -23.363281 35.296875 -31.394531 C 35.296875 -40.203125 30.722656 -45.714844 18.824219 -45.714844 L 12.707031 -45.714844 L 12.707031 -45.683594 C 12.605469 -45.714844 12.503906 -45.714844 12.371094 -45.714844 L 4.976562 -45.714844 C 4.101562 -45.714844 3.628906 -45.246094 3.628906 -44.371094 L 3.628906 1.34375 C 9.480469 0.671875 13.714844 -4.300781 13.714844 -12.707031 L 13.714844 -17.679688 L 14.183594 -17.679688 L 26.019531 -0.875 C 26.488281 -0.269531 26.960938 0 27.632812 0 L 37.179688 0 C 37.917969 0 38.320312 -0.335938 38.320312 -0.875 C 38.320312 -1.074219 38.253906 -1.34375 38.050781 -1.613281 Z M 25.210938 -31.058594 C 25.210938 -25.007812 19.898438 -24.941406 17.816406 -24.941406 L 13.714844 -24.941406 L 13.714844 -36.976562 L 17.816406 -36.976562 C 19.96875 -36.976562 25.210938 -37.042969 25.210938 -31.058594 Z M 25.210938 -31.058594 " data-astro-cid-tvrurpns></path> </g> </g> <g transform="translate(189.639623, 209.25145)" data-astro-cid-tvrurpns> <g data-astro-cid-tvrurpns> <path d="M 28.101562 -24.539062 C 31.464844 -26.019531 33.546875 -29.515625 33.546875 -33.613281 C 33.546875 -41.347656 27.96875 -45.714844 18.019531 -45.714844 L 4.976562 -45.714844 C 4.101562 -45.714844 3.628906 -45.246094 3.628906 -44.371094 L 3.628906 1.34375 C 10.085938 0 13.714844 -5.042969 13.714844 -12.570312 L 13.714844 -19.09375 L 20.574219 -19.09375 C 24.40625 -19.09375 26.554688 -16.875 26.554688 -13.582031 C 26.554688 -10.21875 24.472656 -8.066406 19.898438 -8.066406 L 13.714844 -8.066406 C 14.589844 -2.824219 18.019531 0.671875 23.394531 0.671875 C 31.195312 0.671875 36.640625 -4.300781 36.640625 -11.898438 C 36.640625 -19.09375 33.613281 -23.128906 28.101562 -24.539062 Z M 13.714844 -27.160156 L 13.714844 -36.976562 L 18.019531 -36.976562 C 21.984375 -36.976562 23.664062 -35.296875 23.664062 -32.136719 C 23.664062 -28.910156 21.917969 -27.160156 18.019531 -27.160156 Z M 13.714844 -27.160156 " data-astro-cid-tvrurpns></path> </g> </g> </svg>  <div class="ml-5"> <div class="text-2xl font-bold">Random Bits</div> <div class="text-sm">Software Engineering</div> </div> </a> <div class="flex justify-center items-center"> <a href="/services" class="header-link">services</a> /
<a href="/articles" class="header-link">articles</a> /
<!--<a href="/projects" class="header-link">pr
    ojects</a> /--> <a href="/about" class="header-link">about</a> </div> </nav> </header>  <main class="flex-1">   <div class="my-20 mx-5 md:mx-10"> <div class="rb-article"> <aside class="rb-article__sidebar"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var v=Object.defineProperty;var A=(c,s,a)=>s in c?v(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var d=(c,s,a)=>(A(c,typeof s!="symbol"?s+"":s,a),a);var u;{let c={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},s=t=>{let[e,n]=t;return e in c?c[e](n):void 0},a=t=>t.map(s),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,s(n)]));customElements.get("astro-island")||customElements.define("astro-island",(u=class extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var f;if(!this.hydrator||!this.isConnected)return;let e=(f=this.parentElement)==null?void 0:f.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),r={},l=this.querySelectorAll("template[data-astro-template]");for(let o of l){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("data-astro-template")||"default"]=o.innerHTML,o.remove())}for(let o of n){let i=o.closest(this.tagName);i!=null&&i.isSameNode(this)&&(r[o.getAttribute("name")||"default"]=o.innerHTML)}let h;try{h=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(o){let i=this.getAttribute("component-url")||"<unknown>",b=this.getAttribute("component-export");throw b&&(i+=` (export ${b})`),console.error(`[hydrate] Error parsing props for component ${i}`,this.getAttribute("props"),o),o}let p;await this.hydrator(this)(this.Component,h,r,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),n.disconnect(),this.childrenConnectedCallback()},n=new MutationObserver(()=>{var r;((r=this.lastChild)==null?void 0:r.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});n.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}try{await Astro[n](async()=>{let r=this.getAttribute("renderer-url"),[l,{default:h}]=await Promise.all([import(this.getAttribute("component-url")),r?import(r):()=>()=>{}]),p=this.getAttribute("component-export")||"default";if(!p.includes("."))this.Component=l[p];else{this.Component=l;for(let y of p.split("."))this.Component=this.Component[y]}return this.hydrator=h,this.hydrate},e,this)}catch(r){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,r)}}attributeChangedCallback(){this.hydrate()}},d(u,"observedAttributes",["props"]),u))}})();</script><astro-island uid="Hagwl" data-solid-render-id="s0" component-url="/_astro/ArticleTOC.dIKs95i6.js" component-export="default" renderer-url="/_astro/client.7Y1cJ7Q5.js" props="{&quot;slot&quot;:[0,&quot;sidebar&quot;],&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;dynamic-imports&quot;],&quot;text&quot;:[0,&quot;Dynamic Imports&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;dynamic-imports-script&quot;],&quot;text&quot;:[0,&quot;Dynamic Imports Script&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;shared-libraries&quot;],&quot;text&quot;:[0,&quot;Shared Libraries&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;sharing-static-files&quot;],&quot;text&quot;:[0,&quot;Sharing Static Files&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;use-web-components&quot;],&quot;text&quot;:[0,&quot;Use Web Components&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;custom-router-that-resolves-remote-routes&quot;],&quot;text&quot;:[0,&quot;Custom router that resolves remote routes&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;prefetch-remotes&quot;],&quot;text&quot;:[0,&quot;Prefetch remotes&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;caching-strategy&quot;],&quot;text&quot;:[0,&quot;Caching Strategy&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;dynamic-urls---env-variables&quot;],&quot;text&quot;:[0,&quot;Dynamic URLs - env variables&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;closing-thoughts&quot;],&quot;text&quot;:[0,&quot;Closing Thoughts&quot;]}]]]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ArticleTOC&quot;,&quot;value&quot;:true}" await-children=""><div data-hk="s00-0" class="rb-article__nav"><b class="block text-xl pb-3">Table of Contents</b><nav aria-label="Article Sections"><div data-hk="s00-1"><a href="#dynamic-imports" aria-selected="false">Dynamic Imports</a></div><div data-hk="s00-2"><a href="#dynamic-imports-script" aria-selected="false">Dynamic Imports Script</a></div><div data-hk="s00-3"><a href="#shared-libraries" aria-selected="false">Shared Libraries</a></div><div data-hk="s00-4"><a href="#sharing-static-files" aria-selected="false">Sharing Static Files</a></div><div data-hk="s00-5"><a href="#use-web-components" aria-selected="false">Use Web Components</a></div><div data-hk="s00-6"><a href="#custom-router-that-resolves-remote-routes" aria-selected="false">Custom router that resolves remote routes</a></div><div data-hk="s00-7"><a href="#prefetch-remotes" aria-selected="false">Prefetch remotes</a></div><div data-hk="s00-8"><a href="#caching-strategy" aria-selected="false">Caching Strategy</a></div><div data-hk="s00-9"><a href="#dynamic-urls---env-variables" aria-selected="false">Dynamic URLs - env variables</a></div><div data-hk="s00-10"><a href="#closing-thoughts" aria-selected="false">Closing Thoughts</a></div></nav></div><!--astro:end--></astro-island> </aside> <section> <div class="overflow-hidden"> <div class="" data-astro-cid-4wvhzws4> <div class="" data-astro-cid-4wvhzws4>  <h1 class="my-0 decoration-6 underline-offset-6 decoration-solid underline decoration-amber-400 decoration" data-astro-cid-4wvhzws4>Advanced Guide to Module Federation</h1> <p data-astro-cid-4wvhzws4>Beyond the basics of module federation to cover what a production app will most likely need. Dynamic Imports, Sharing Files and Libraries, Web Components, Routers, Prefetching, Cache Busting, Dynamic URLS.</p> <div class="italic" data-astro-cid-4wvhzws4>Last updated on January 1, 2023</div> </div> </div>  <article class="article-body"> <p>There are plenty of articles about setting up Webpack’s Module Federation.
But almost all the articles focus on the basics.
Here I will go over steps you want to consider in a production app.</p>
<h2 id="dynamic-imports">Dynamic Imports</h2>
<p>Most examples show using the <em>remotes</em> array to specify remote apps:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token literal-property property">remotes</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">app1</span><span class="token operator">:</span> <span class="token string">'app1@http://localhost:3001/remoteEntry.js'</span>
<span class="token punctuation">}</span></code></pre>
<p>This simply tells webpack to fetch <em>app1</em> at given address when the container app loads.</p>
<p>There are a few limitations in this approach:</p>
<p><strong>The <em>remoteEntry.js</em> files get fetched immediately when your container app loads.</strong>
This is not ideal if you have a large list of remotes, or you have remotes that will never load for the user.</p>
<p><strong>The browser may cache the file.</strong>
Since there is not a version or timestamp in the URL, the browser can cache the file, and users will not receive new
deployments immediately.</p>
<p><strong>Your options for dynamically setting the URL is more limited.</strong>
You may want to change remote urls without needing a redeployment. This could be how you roll out production updates.
Or maybe you need to change the url of the remote depending on the region the user is in.</p>
<h2 id="dynamic-imports-script">Dynamic Imports Script</h2>
<p>To implement dynamic imports, you will want to create a utility script like the following:</p>
<pre class="language-typescript"><code is:raw="" class="language-typescript"><span class="token keyword">declare</span> global <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">__webpack_init_sharing__</span><span class="token operator">:</span> <span class="token punctuation">(</span>parameter<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> __webpack_share_scopes__<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> __webpack_require__<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function-variable function">l</span><span class="token operator">:</span> <span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">cb</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">loadRemote</span> <span class="token operator">=</span> <span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> scope<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span>
    <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> timestamp <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">?t=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        __webpack_require__<span class="token punctuation">.</span><span class="token function">l</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>timestamp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token operator">?.</span>type <span class="token operator">===</span> <span class="token string">'load'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Loading script failed: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>event<span class="token operator">?.</span>target<span class="token operator">?.</span>src<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            scope<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">initSharing</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>__webpack_share_scopes__<span class="token operator">?.</span>default<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">__webpack_init_sharing__</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">initContainer</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>containerScope<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>containerScope<span class="token punctuation">.</span>__initialized <span class="token operator">&#x26;&#x26;</span> <span class="token operator">!</span>containerScope<span class="token punctuation">.</span>__initializing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        containerScope<span class="token punctuation">.</span>__initializing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> containerScope<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>__webpack_share_scopes__<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span>
        containerScope<span class="token punctuation">.</span>__initialized <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">delete</span> containerScope<span class="token punctuation">.</span>__initializing<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> importRemote <span class="token operator">=</span> <span class="token generic-function"><span class="token function">async</span> <span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> scope<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> module<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Load the remote and initialize the share scope if it's empty</span>
        <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">loadRemote</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> scope<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">initSharing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
                <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scope<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> not found on window object</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// Initialize the container to get shared modules and get the module factory:</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> moduleFactory<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token function">initContainer</span><span class="token punctuation">(</span>window<span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            window<span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'./'</span><span class="token punctuation">)</span> <span class="token operator">?</span> module <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">module</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">moduleFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> moduleFactory <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'./'</span><span class="token punctuation">)</span> <span class="token operator">?</span> module <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">module</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">moduleFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>You can then pull in a remote app like:</p>
<pre class="language-typescript"><code is:raw="" class="language-typescript"><span class="token function">importRemote</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3001/remoteEntry.js'</span><span class="token punctuation">,</span> <span class="token string">'app1'</span><span class="token punctuation">,</span> <span class="token string">'bootstrap'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setArticles</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>For reference, here would be the webpack config for the remote app:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"app1"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"remoteEntry.js"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exposes</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'./bootstrap'</span><span class="token operator">:</span> <span class="token string">'./src/bootstrap'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>If you store your remote urls in environment variables or another method of configuration, you can then make a helper
function:</p>
<pre class="language-typescript"><code is:raw="" class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> importRemoteByName <span class="token operator">=</span> <span class="token punctuation">(</span>remoteName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> module <span class="token operator">=</span> <span class="token string">'bootstrap'</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token constant">REMOTE_URLS</span><span class="token punctuation">[</span>remoteName<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'/remoteEntry.js'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">importRemote</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> remoteName<span class="token punctuation">,</span> module<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote>
<p>When using dynamic imports, you don’t even have to use the ModuleFederationPlugin in your top level app.
Although you still may want to if you are sharing dependencies.</p>
</blockquote>
<h2 id="shared-libraries">Shared Libraries</h2>
<p>Sharing dependencies between apps is easy. Simply load the dependencies from package.json, and then pass the list to
module federation:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">const</span> ModuleFederationPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"webpack/lib/container/ModuleFederationPlugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> deps <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./package.json"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dependencies<span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"app1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"remoteEntry.js"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">shared</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token operator">...</span>deps
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
<p>Any libraries that need to be <strong>singletons</strong> (can only be initialized once), can be declared as such.
This is overriding the <strong>react</strong> dependency from package.json:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"app1"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"remoteEntry.js"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">shared</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>deps<span class="token punctuation">,</span>
        <span class="token string-property property">'react'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">singleton</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">requiredVersion</span><span class="token operator">:</span> deps<span class="token punctuation">.</span>react
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Most notably, <strong>react</strong> and <strong>preact</strong> have to be singletons to work properly.
Also, if preact hooks are used, it also needs to be declared separately, even though they come from the same dependency:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"app1"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"remoteEntry.js"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">shared</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>deps<span class="token punctuation">,</span>
        <span class="token string-property property">'preact'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">singleton</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">requiredVersion</span><span class="token operator">:</span> deps<span class="token punctuation">.</span>preact
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">'preact/hooks'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">singleton</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">requiredVersion</span><span class="token operator">:</span> deps<span class="token punctuation">.</span>preact
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<h2 id="sharing-static-files">Sharing Static Files</h2>
<p>You can expose static files like JSON to share with other apps.</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"app1"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"remoteEntry.js"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exposes</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'./bootstrap'</span><span class="token operator">:</span> <span class="token string">'./src/bootstrap'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'./metadata'</span><span class="token operator">:</span> <span class="token string">'./src/metadata.json'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>To use, simply change the module name:</p>
<pre class="language-typescript"><code is:raw="" class="language-typescript"><span class="token function">importRemote</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3001/remoteEntry.js'</span><span class="token punctuation">,</span> <span class="token string">'app1'</span><span class="token punctuation">,</span> <span class="token string">'metadata'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>metadata<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>metadata<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Don’t worry, remoteEntry.js will <strong>NOT</strong> be fetched every time you call importRemote, it is automatically cached via our
script above.</p>
<h2 id="use-web-components">Use Web Components</h2>
<p>I found that the simplest way to use module federation is to have my remote applications expose web components.</p>
<p>For example, here is my <strong>bootstrap.tsx</strong> file for a remote:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'app1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">App1</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token literal-property property">reactRoot</span><span class="token operator">:</span> Root <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>reactRoot <span class="token operator">=</span> <span class="token function">createRoot</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>reactRoot<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>App<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">disconnectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>reactRoot<span class="token punctuation">.</span><span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>reactRoot <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'app1'</span><span class="token punctuation">,</span> App1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>This is how my container application loads the remote:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">RemoteApp1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">importRemote</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3001/remoteEntry.js'</span><span class="token punctuation">,</span> <span class="token string">'app1'</span><span class="token punctuation">,</span> <span class="token string">'bootstrap'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&#x3C;</span>app1<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>That’s it!. Because your using web components, you don’t need to wait for the remote import to resolve.
You can simply render <code>&#x3C;app1/></code>, which will be an empty element until the remote app is loaded, and the web component
populates.</p>
<p>Web components also makes it easier to create a generic component that will load remote applications:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">RemoteApp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>appName<span class="token punctuation">,</span> params<span class="token punctuation">}</span><span class="token operator">:</span> Params</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">importRemoteByName</span><span class="token punctuation">(</span>appName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// handle error if needed</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> CustomElement <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">remote-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>appName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&#x3C;</span>CustomElement <span class="token punctuation">{</span><span class="token operator">...</span>params<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="custom-router-that-resolves-remote-routes">Custom router that resolves remote routes</h2>
<p>If you have routes that display a remote application, you will notice that the page is blank for a second before the
application populates.
This is because the route transitions immediately, and the remote application is loaded afterwards.
A better experience would be to load the remote before transitioning to the new route.
And to accomplish this you need to implement a custom router. Don’t worry, it’s easy.</p>
<p>Say we want the following routes:</p>
<pre class="language-typescript"><code is:raw="" class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ROUTES</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
        element<span class="token operator">:</span> <span class="token operator">&#x3C;</span>HomePage<span class="token operator">/</span><span class="token operator">></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">'/app1'</span><span class="token punctuation">,</span>
        remote<span class="token operator">:</span> <span class="token string">'app1'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
<p>We can either define an element to render, or a remote application to render.
We can also define both an element and a remote, if we have the scenario where we are rendering a local element that
contains a remote application.
Then we can still preload the remote, and improve the performance.</p>
<p>Here is the router, which defines a context:</p>
<pre class="language-typescript"><code is:raw="" class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IRoute</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    element<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">JSX</span><span class="token punctuation">.</span>Element<span class="token punctuation">;</span>
    remote<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    params<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IRouterContext</span> <span class="token punctuation">{</span>
    url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    routes<span class="token operator">:</span> <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> element<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function-variable function">navigate</span><span class="token operator">:</span> <span class="token punctuation">(</span>newUrl<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    current<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
    params<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token constant">GLOBAL_ROUTE_CONTEXT</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    url<span class="token operator">:</span> location<span class="token punctuation">.</span>pathname<span class="token punctuation">,</span>
    routes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    navigate<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    current<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> RouterContext <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createContext</span><span class="token generic class-name"><span class="token operator">&#x3C;</span>IRouterContext<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token constant">GLOBAL_ROUTE_CONTEXT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useRouter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">useContext</span><span class="token punctuation">(</span>RouterContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Router</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>routes<span class="token punctuation">,</span> children<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>url<span class="token punctuation">,</span> setUrl<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>current<span class="token punctuation">,</span> setCurrent<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&#x3C;</span>IRoute<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>params<span class="token punctuation">,</span> setParams<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">any</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">calcRoute</span> <span class="token operator">=</span> <span class="token punctuation">(</span>newUrl<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setUrl</span><span class="token punctuation">(</span>newUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> newParams<span class="token punctuation">;</span>
        <span class="token keyword">const</span> newCurrent <span class="token operator">=</span> routes<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>child <span class="token operator">=></span> <span class="token punctuation">{</span>
            newParams <span class="token operator">=</span> <span class="token function">routeTest</span><span class="token punctuation">(</span>newUrl<span class="token punctuation">,</span> child<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>newParams<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">!==</span> newCurrent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>newCurrent<span class="token punctuation">.</span>remote<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">importRemote</span><span class="token punctuation">(</span>newCurrent<span class="token punctuation">.</span>remote<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                    <span class="token function">setCurrent</span><span class="token punctuation">(</span>newCurrent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">setParams</span><span class="token punctuation">(</span>newParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">setCurrent</span><span class="token punctuation">(</span>newCurrent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">setParams</span><span class="token punctuation">(</span>newParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">navigate</span> <span class="token operator">=</span> <span class="token punctuation">(</span>newUrl<span class="token punctuation">,</span> skipHistory <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>skipHistory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> newUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">calcRoute</span><span class="token punctuation">(</span>newUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">onPopState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">navigate</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'popstate'</span><span class="token punctuation">,</span> onPopState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'popstate'</span><span class="token punctuation">,</span> onPopState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>current<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">calcRoute</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&#x3C;</span>RouterContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>url<span class="token punctuation">,</span> routes<span class="token punctuation">,</span> current<span class="token punctuation">,</span> params<span class="token punctuation">,</span> navigate<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>RouterContext<span class="token punctuation">.</span>Provider<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Here is the router outlet component:</p>
<pre class="language-typescript"><code is:raw="" class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">getElementToRender</span> <span class="token operator">=</span> <span class="token punctuation">(</span>current<span class="token operator">:</span> IRoute<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> current<span class="token punctuation">.</span>element<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span>remote<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">&#x3C;</span>RemoteApp key<span class="token operator">=</span><span class="token punctuation">{</span>current<span class="token punctuation">.</span>path<span class="token punctuation">}</span> appName<span class="token operator">=</span><span class="token punctuation">{</span>current<span class="token punctuation">.</span>remote<span class="token punctuation">}</span> params<span class="token operator">=</span><span class="token punctuation">{</span>current<span class="token punctuation">.</span>params<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">&#x3C;</span>div<span class="token operator">></span>Not found<span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">RouterOutlet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>current<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&#x3C;</span>OutletContainer id<span class="token operator">=</span><span class="token string">"outlet"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token function">getElementToRender</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>OutletContainer<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Now we can define our main <strong>App.tsx</strong> file:</p>
<pre class="language-typescript"><code is:raw="" class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&#x3C;</span>Router routes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token constant">ROUTES</span><span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&#x3C;</span>Header<span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&#x3C;</span>RouterOutlet<span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&#x3C;</span>Footer<span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>Router<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="prefetch-remotes">Prefetch remotes</h2>
<p>If using the dynamic imports script, you could start preloading apps that users are likely to need.
After the app is done loading, you can simply call <code>importRemote</code> for each app you want to preload:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token function">importRemote</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3001/remoteEntry.js'</span><span class="token punctuation">,</span> <span class="token string">'app1'</span><span class="token punctuation">,</span> <span class="token string">'bootstrap'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">importRemote</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3002/remoteEntry.js'</span><span class="token punctuation">,</span> <span class="token string">'app2'</span><span class="token punctuation">,</span> <span class="token string">'bootstrap'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="caching-strategy">Caching Strategy</h2>
<p>Everytime a remote app is loaded, we want to load the latest version of the remote app, but we also want to cache as
much as we can to improve loading time.</p>
<p>The answer to this is always fetching <code>remoteEntry.js</code> fresh, and then caching everything else.
If you are using the <em>dynamic imports script</em>, the remoteEntry.js file is cache busted through a timestamp in the
request, so it is loaded fresh every time:</p>
<pre class="language-plaintext"><code is:raw="" class="language-plaintext">http://localhost:3002/remoteEntry.js?t=1682726535364</code></pre>
<p>This is fine, since remoteEntry.js is very tiny, and only points at the rest of the files to load.</p>
<p>Then, if we make sure to use content hashes for our script names when we build, and mark the files as immutable though
the <strong>Cache-Control</strong> header, the browser will cache everything besides that initial remoteEntry.js.</p>
<p>Webpack output config:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"[contenthash].js"</span> <span class="token comment">// d0fb3aa6b14ecb0578b5.js</span>
<span class="token punctuation">}</span></code></pre>
<p>Cache-Control header:</p>
<pre class="language-plaintext"><code is:raw="" class="language-plaintext">Cache-Control: public, max-age=31536000, immutable</code></pre>
<h2 id="dynamic-urls---env-variables">Dynamic URLs - env variables</h2>
<p>I recommend setting your remote application urls in environment variables.
That way you can change the urls for different environments, and you can set them to localhost for development.</p>
<p>Create a <em>.env</em> file in your root directory:</p>
<pre class="language-yaml"><code is:raw="" class="language-yaml">REMOTE_APP1=https<span class="token punctuation">:</span>//example.github.io/remote1
REMOTE_APP2=http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8080/remote2</code></pre>
<p>As you can see, I’m fetching remote1 from the production environment, so I don’t need to start a local server.
But I want to work on remote2, so I’m pointing it to the local version.</p>
<p>On the server, you would set these environment variables in your CI pipeline (github, vercel, etc).
And when they are set in your CI environment, they take priority over anything in your .env file.
So you can check in the local .env if you wish.</p>
<p>Here is an example of loading the environment variables in webpack:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">const</span> DefinePlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack/lib/DefinePlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dotenv'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> remoteVars <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>
    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> key<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'REMOTE_'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token string-property property">'REMOTE_CONFIG'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>remoteVars<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
<p><code>require('dotenv').config();</code> loads the environment variables from your <em>.env</em> file, and puts them into the
<em>process.env</em> object.
Then, instead of hardcoding each variable key in the script, I am grabbing all keys that start with <em>REMOTE_</em>.
And finally the <em>DefinePlugin</em> will inject the variables into your code.
In this example, I’m injecting an object called <em>REMOTE_CONFIG</em>, which would end up getting compiled as a global
variable like:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token keyword">const</span> <span class="token constant">REMOTE_CONFIG</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'REMOTE_APP1'</span><span class="token operator">:</span> <span class="token string">'https://example.github.io/remote1'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'REMOTE_APP2'</span><span class="token operator">:</span> <span class="token string">'http://localhost:8080/remote2'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Then you can use anywhere in your code:</p>
<pre class="language-javascript"><code is:raw="" class="language-javascript"><span class="token constant">REMOTE_CONFIG</span><span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">REMOTE_APP1</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// https://example.github.io/remote1</span></code></pre>
<p>If your using typescript, make sure to declare the global variable:</p>
<pre class="language-typescript"><code is:raw="" class="language-typescript"><span class="token keyword">declare</span> global <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">REMOTE_CONFIG</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="closing-thoughts">Closing Thoughts</h2>
<p>Module Federation is a great pattern to use for SPA micro frontends.</p>
<p>This patten is also easy to implement for <strong>SSR</strong> (server side render) webapps, as long as the remote app is the only
app
generated on the server.
It is entirely possible to implement with all remotes coming from SSR, but it gets more complex and I wouldn’t recommend
it for that.</p>
<p>It is also not the best option for SSG webapps (static site generation).</p> </article> </div>  </section> <aside class="rb-article__sidebar"></aside> </div> </div>  </main> <footer data-astro-cid-35ed7um5> <div class="footer-content" data-astro-cid-35ed7um5> <nav aria-label="Social Links" class="social-links" data-astro-cid-35ed7um5> <a href="mailto:matt@randombits.dev" class="btn-email btn-secondary inline-flex items-center " data-astro-cid-35ed7um5> <div data-astro-cid-35ed7um5><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>
</div><div class="text-xl ml-5 lowercase" data-astro-cid-35ed7um5>matt@randombits.dev</div> </a> <div class="flex" data-astro-cid-35ed7um5> <a href="https://github.com/randombits-dev" target="_blank" aria-label="Github" data-astro-cid-35ed7um5> <div data-astro-cid-35ed7um5><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
</svg></div> </a> <a href="https://discord.gg/VdAySp2Y" target="_blank" aria-label="Discord" data-astro-cid-35ed7um5> <div data-astro-cid-35ed7um5><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-discord" viewBox="0 0 16 16">
  <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"/>
</svg></div> </a> <a href="https://twitter.com/RandomBitsDev" target="_blank" aria-label="Twitter" data-astro-cid-35ed7um5> <div data-astro-cid-35ed7um5><svg viewBox="0 0 24 24">
  <g>
    <path
      d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
  </g>
</svg>
</div> </a> <a href="https://linktr.ee/randombits" target="_blank" aria-label="Linktree" data-astro-cid-35ed7um5> <div data-astro-cid-35ed7um5><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" xml:space="preserve"><path d="M24 0C10.745 0 0 10.745 0 24s10.745 24 24 24 24-10.745 24-24S37.255 0 24 0zm1.881 37.001h-3.762v-8.495h3.762v8.495zm8.707-13.622h-6.432l4.581 4.45-2.518 2.528L24 24.107l-6.22 6.25-2.518-2.518 4.581-4.45h-6.432v-3.59h6.402l-4.551-4.339 2.518-2.579 4.339 4.46V11h3.762v6.341l4.338-4.46 2.518 2.579-4.551 4.339h6.402v3.58z"></path></svg></div> </a> <a href="https://keybase.io/randombitsdev" target="_blank" aria-label="Keybase" data-astro-cid-35ed7um5> <div data-astro-cid-35ed7um5><?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
  <path d="M13.927 28.495c0 0.703-0.567 1.271-1.271 1.271-0.697 0-1.271-0.568-1.271-1.271s0.568-1.271 1.271-1.271c0.699 0 1.265 0.573 1.265 1.271zM21.817 28.495c0 0.703-0.567 1.271-1.271 1.271-0.703 0-1.271-0.568-1.271-1.271s0.563-1.271 1.265-1.271c0.704 0 1.271 0.573 1.271 1.271zM27.869 16.287l-0.208-0.276c-0.057-0.079-0.125-0.151-0.188-0.229-0.061-0.084-0.124-0.151-0.187-0.229-0.141-0.156-0.281-0.317-0.427-0.479l-0.1-0.104-0.124-0.131-0.177-0.177c-0.021-0.025-0.043-0.047-0.068-0.073-1.547-1.515-3.339-2.645-5.271-3.337l-0.308-0.105c0.016-0.031 0.032-0.072 0.048-0.109 0.547-1.416 0.489-2.963-0.163-4.339-0.656-1.38-1.807-2.4-3.249-2.88-0.875-0.287-1.641-0.427-2.281-0.405-0.047-0.141-0.136-0.772 0.661-2.464l-1.609-0.948-0.385 0.531c-0.437 0.609-0.864 1.193-1.26 1.772-0.437-0.459-1.021-0.735-1.656-0.772l-1.881-0.115c-0.041-0.004-0.093-0.004-0.135-0.004-1.323 0-2.417 1.025-2.495 2.337l-0.12 1.871v0.005c-0.079 1.369 0.968 2.552 2.344 2.635l1.333 0.084c-0.089 1.12 0.099 2.161 0.541 3.072-1.797 0.751-3.448 1.871-4.88 3.313-4.407 4.459-4.407 9.339-4.407 13.26v2.371l1.74-1.849c0.353 1.239 0.869 2.407 1.525 3.484h2.261c-1.109-1.484-1.891-3.235-2.24-5.131l2.552-2.708-1.312 4.125 2.317-1.693c4.099-2.979 8.995-3.667 14.547-2.036 2.407 0.708 4.751 0.052 5.964-1.677l0.14-0.219c0.12 0.661 0.188 1.328 0.188 1.995 0 2.084-0.339 4.917-1.839 7.349h2.145c1.037-2.083 1.579-4.579 1.579-7.349-0.005-2.932-1.052-5.896-2.917-8.364zM11.86 8.255c0.161-1.337 0.771-2.599 1.64-3.957 0.031 0.063 0.073 0.124 0.109 0.187 0.355 0.532 0.953 0.833 1.599 0.808 0.292-0.011 0.808 0.036 1.647 0.312 0.952 0.313 1.713 0.989 2.14 1.901 0.432 0.907 0.469 1.921 0.109 2.864-0.235 0.595-0.609 1.095-1.077 1.48l-0.543-0.672-0.005-0.005c-0.369-0.453-0.921-0.713-1.509-0.713-0.448 0-0.887 0.156-1.235 0.443-0.443 0.359-0.683 0.88-0.708 1.411-1.605-0.724-2.401-2.192-2.172-4.057zM17.599 15.068l-0.692 0.568c-0.063 0.047-0.125 0.067-0.199 0.067-0.083 0-0.177-0.036-0.235-0.109l-0.145-0.181c-0.115-0.131-0.088-0.333 0.041-0.443l0.683-0.563-1.407-1.729c-0.145-0.183-0.119-0.443 0.057-0.584 0.079-0.063 0.167-0.099 0.261-0.099 0.119 0 0.239 0.052 0.317 0.151l3.953 4.865c0.145 0.177 0.12 0.437-0.057 0.577-0.052 0.043-0.109 0.073-0.167 0.084-0.032 0.011-0.063 0.016-0.093 0.016-0.12 0-0.24-0.057-0.324-0.152l-0.391-0.489-1.396 1.141c-0.057 0.047-0.129 0.072-0.203 0.072-0.088 0-0.188-0.041-0.249-0.12l-0.636-0.771c-0.109-0.135-0.088-0.339 0.047-0.448l1.401-1.145zM10.339 6.489l-1.593-0.104c-0.344-0.016-0.605-0.312-0.584-0.645l0.12-1.871c0.021-0.328 0.292-0.583 0.615-0.583h0.031l1.871 0.125c0.167 0.004 0.317 0.077 0.421 0.203 0.109 0.125 0.167 0.276 0.156 0.448l-0.011 0.131c-0.427 0.76-0.78 1.515-1.031 2.296zM27.036 21.797c-0.755 1.072-2.249 1.443-3.9 0.957-5.177-1.52-9.86-1.208-13.953 0.933l2.177-6.828-7.053 7.479c0.131-5.021 3.272-9.292 7.677-11.084 0.631 0.495 1.38 0.881 2.229 1.12 0.213 0.057 0.432 0.099 0.641 0.136-0.245 0.615-0.157 1.333 0.281 1.875l0.099 0.125c-0.229 0.599-0.141 1.296 0.296 1.828l0.631 0.776c0.355 0.432 0.88 0.688 1.437 0.688 0.432 0 0.849-0.152 1.183-0.423l0.38-0.307c0.235 0.099 0.489 0.151 0.756 0.151 0.151 0 0.296-0.016 0.443-0.047 0.285-0.068 0.561-0.204 0.796-0.391 0.828-0.677 0.959-1.912 0.276-2.745l-2.224-2.739c0.193-0.157 0.376-0.329 0.541-0.511 0.183 0.052 0.365 0.104 0.537 0.161 0.353 0.129 0.708 0.26 1.057 0.416 1.339 0.595 2.604 1.469 3.692 2.532 0.043 0.041 0.084 0.072 0.115 0.109l0.229 0.235c0.047 0.052 0.099 0.104 0.147 0.161 0.104 0.115 0.213 0.233 0.317 0.353l0.172 0.204c0.057 0.067 0.115 0.135 0.172 0.213l0.151 0.197c0.052 0.068 0.104 0.136 0.156 0.204 1.12 1.536 1.317 3.109 0.536 4.213v0.005zM10.292 5.484l-1.115-0.068 0.073-1.109 1.109 0.068z"/>
</svg></div> </a> </div> </nav> </div> <div class="copyright" data-astro-cid-35ed7um5>
&copy; 2024 Random Bits
</div> </footer>   </div> </body></html> 